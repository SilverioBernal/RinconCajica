@model IEnumerable<Orkidea.RinconCajica.webFront.Models.vmSportSchedule>

@{
    ViewBag.Title = "IndexNextSchedule";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    System.Security.Principal.IIdentity context = Context.User.Identity;
    int user = 0;
    string rol = "U";
    string userName = "";
    bool autenticado = false;

    if (context.IsAuthenticated)
    {
        System.Web.Security.FormsIdentity ci = (System.Web.Security.FormsIdentity)Context.User.Identity;
        string[] userRole = ci.Ticket.UserData.Split('|');
        user = int.Parse(userRole[0]);
        rol = userRole[1];
        userName = ci.Name;
        autenticado = (user != null ? true : false);
    }
}
<script src="@Url.Content("~/scripts/jquery-1.9.1.min.js")"></script>

<div id="bg_slide">
    <ul>
        @{Html.RenderAction("getHomeSlider", "HomeSlider");}
    </ul>
    <div class="pattern"></div>
</div>

<div class="default-icons clearfix">
    <ul class="slider-nav">
        <li>
            <a href="#" class="icon-angle-left rslides_nav rslides1_nav prev"></a>
        </li>
        <li>
            <a href="#" class="icon-angle-right rslides_nav rslides1_nav next"></a>
        </li>
    </ul>
    <!-- /.slider-nav -->


</div>

<div class="container">
    <div class="header-field">
        <div class="page-title pull-left">
            <h3>Proximos eventos de @ViewBag.titulo</h3>
        </div>
    </div>
    <!-- /.header-field -->
</div>
<!-- /.container -->

<div class="container">
    <div class="cont-outer">
        <div class="row-fluid">

            <div class="row-fluid">
                <div class="span12">
                    @foreach (var item in Model)
                    {
                        if (item.visible)
                        {
                        <div class="row-fluid">
                            <div class="span2">
                                <a href="javascript:void(0)" class="zoomImage">
                                    <img src="@item.poster" width="300" title="Ampliar" /></a>
                            </div>
                            <div class="span10">
                                <div class="row.fluid">
                                    <span style="font-size: 18px"><strong>@Html.DisplayFor(modelItem => item.competencia)</strong></span>
                                </div>
                                <div class="row.fluid">
                                    <span>Desde: </span>@Html.DisplayFor(modelItem => item.inicio)

                                    @if (item.fin != item.fin)
                                    {
                                        <span>Hasta: </span> @Html.DisplayFor(modelItem => item.fin)
                                    }

                                </div>
                                <div class="row.fluid">
                                    <span>Categorias: </span>@Html.DisplayFor(modelItem => item.categoria)
                                </div>
                                <div class="row.fluid">
                                    <span>Modalidad: </span>@Html.DisplayFor(modelItem => item.nombreModalidad)
                                </div>
                                <div class="row.fluid">
                                    <span>Rama: </span>@Html.DisplayFor(modelItem => item.nombreRama)
                                </div>
                                <div class="row.fluid">
                                    <a href="@Url.Action("join", "JoinContest", new { id = item.id})" class="btn">Inscribirse</a>
                                    @*<input type="button" class="btn" value="Inscribirse" />*@
                                </div>
                            </div>
                        </div>                       
                        <br />
                        }
                    }
                </div>
            </div>
        </div>
        <!-- /.row-fluid -->


    </div>
    <!-- /.cont-outer -->
</div>

@*<div class="modal hide fade" id="myModal">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">X</button>
        <h3 id="msgHeader"></h3>
    </div>
    <div class="modal-body" id="msgBody">
        <img src="#" id="poster" style="width: 600px; height: 900px" />
    </div>
    <div class="modal-footer">
        <a href="#" class="btn btn-danger" data-dismiss="modal" id="btnFail">Aceptar</a>
    </div>
</div>*@
<!-- /modal -->
<script>
    $('.zoomImage').click(function () {
        var imgNode = $(this).find('img');
        var imgSource = imgNode.attr("src");

        var poster = $('#poster')[0];
        $(poster).attr("src", imgSource);

        $('#myModal').modal('show');
    });
</script>
